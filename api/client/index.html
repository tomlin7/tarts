
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Client implementation of the Language Server Protocol that is used in IDEs, editors and other tools to provide language features like auto-completions, hovers, goto-definition, etc.">
      
      
      
        <link rel="canonical" href="https://tomlin7.github.io/tarts/api/client/">
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../events/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.29">
    
    
      
        <title>Client - Tarts LSP Client</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.76a95c52.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Tarts LSP Client" class="md-header__button md-logo" aria-label="Tarts LSP Client" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tarts LSP Client
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Client
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/tomlin7/tarts" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    tomlin7/tarts
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tarts LSP Client" class="md-nav__button md-logo" aria-label="Tarts LSP Client" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Tarts LSP Client
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tomlin7/tarts" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    tomlin7/tarts
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Client
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Client
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clientstate" class="md-nav__link">
    <span class="md-ellipsis">
      ClientState
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClientState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tarts.client.ClientState" class="md-nav__link">
    <span class="md-ellipsis">
      ClientState
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client" class="md-nav__link">
    <span class="md-ellipsis">
      Client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client" class="md-nav__link">
    <span class="md-ellipsis">
      Client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.is_initialized" class="md-nav__link">
    <span class="md-ellipsis">
      is_initialized
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.state" class="md-nav__link">
    <span class="md-ellipsis">
      state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.cancel_last_request" class="md-nav__link">
    <span class="md-ellipsis">
      cancel_last_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.completion" class="md-nav__link">
    <span class="md-ellipsis">
      completion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.declaration" class="md-nav__link">
    <span class="md-ellipsis">
      declaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.definition" class="md-nav__link">
    <span class="md-ellipsis">
      definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_change" class="md-nav__link">
    <span class="md-ellipsis">
      did_change
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_change_configuration" class="md-nav__link">
    <span class="md-ellipsis">
      did_change_configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_change_workspace_folders" class="md-nav__link">
    <span class="md-ellipsis">
      did_change_workspace_folders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_close" class="md-nav__link">
    <span class="md-ellipsis">
      did_close
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_open" class="md-nav__link">
    <span class="md-ellipsis">
      did_open
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_save" class="md-nav__link">
    <span class="md-ellipsis">
      did_save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.documentSymbol" class="md-nav__link">
    <span class="md-ellipsis">
      documentSymbol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.exit" class="md-nav__link">
    <span class="md-ellipsis">
      exit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.folding_range" class="md-nav__link">
    <span class="md-ellipsis">
      folding_range
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.formatting" class="md-nav__link">
    <span class="md-ellipsis">
      formatting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.hover" class="md-nav__link">
    <span class="md-ellipsis">
      hover
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.implementation" class="md-nav__link">
    <span class="md-ellipsis">
      implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.inlay_hint" class="md-nav__link">
    <span class="md-ellipsis">
      inlay_hint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.prepareCallHierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      prepareCallHierarchy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.rangeFormatting" class="md-nav__link">
    <span class="md-ellipsis">
      rangeFormatting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.recv" class="md-nav__link">
    <span class="md-ellipsis">
      recv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.references" class="md-nav__link">
    <span class="md-ellipsis">
      references
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.rename" class="md-nav__link">
    <span class="md-ellipsis">
      rename
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.send" class="md-nav__link">
    <span class="md-ellipsis">
      send
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.shutdown" class="md-nav__link">
    <span class="md-ellipsis">
      shutdown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.signatureHelp" class="md-nav__link">
    <span class="md-ellipsis">
      signatureHelp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.typeDefinition" class="md-nav__link">
    <span class="md-ellipsis">
      typeDefinition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.will_save" class="md-nav__link">
    <span class="md-ellipsis">
      will_save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.will_save_wait_until" class="md-nav__link">
    <span class="md-ellipsis">
      will_save_wait_until
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.workspace_symbol" class="md-nav__link">
    <span class="md-ellipsis">
      workspace_symbol
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LICENSE.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clientstate" class="md-nav__link">
    <span class="md-ellipsis">
      ClientState
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClientState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tarts.client.ClientState" class="md-nav__link">
    <span class="md-ellipsis">
      ClientState
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client" class="md-nav__link">
    <span class="md-ellipsis">
      Client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client" class="md-nav__link">
    <span class="md-ellipsis">
      Client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.is_initialized" class="md-nav__link">
    <span class="md-ellipsis">
      is_initialized
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.state" class="md-nav__link">
    <span class="md-ellipsis">
      state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.cancel_last_request" class="md-nav__link">
    <span class="md-ellipsis">
      cancel_last_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.completion" class="md-nav__link">
    <span class="md-ellipsis">
      completion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.declaration" class="md-nav__link">
    <span class="md-ellipsis">
      declaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.definition" class="md-nav__link">
    <span class="md-ellipsis">
      definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_change" class="md-nav__link">
    <span class="md-ellipsis">
      did_change
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_change_configuration" class="md-nav__link">
    <span class="md-ellipsis">
      did_change_configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_change_workspace_folders" class="md-nav__link">
    <span class="md-ellipsis">
      did_change_workspace_folders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_close" class="md-nav__link">
    <span class="md-ellipsis">
      did_close
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_open" class="md-nav__link">
    <span class="md-ellipsis">
      did_open
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.did_save" class="md-nav__link">
    <span class="md-ellipsis">
      did_save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.documentSymbol" class="md-nav__link">
    <span class="md-ellipsis">
      documentSymbol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.exit" class="md-nav__link">
    <span class="md-ellipsis">
      exit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.folding_range" class="md-nav__link">
    <span class="md-ellipsis">
      folding_range
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.formatting" class="md-nav__link">
    <span class="md-ellipsis">
      formatting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.hover" class="md-nav__link">
    <span class="md-ellipsis">
      hover
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.implementation" class="md-nav__link">
    <span class="md-ellipsis">
      implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.inlay_hint" class="md-nav__link">
    <span class="md-ellipsis">
      inlay_hint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.prepareCallHierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      prepareCallHierarchy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.rangeFormatting" class="md-nav__link">
    <span class="md-ellipsis">
      rangeFormatting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.recv" class="md-nav__link">
    <span class="md-ellipsis">
      recv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.references" class="md-nav__link">
    <span class="md-ellipsis">
      references
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.rename" class="md-nav__link">
    <span class="md-ellipsis">
      rename
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.send" class="md-nav__link">
    <span class="md-ellipsis">
      send
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.shutdown" class="md-nav__link">
    <span class="md-ellipsis">
      shutdown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.signatureHelp" class="md-nav__link">
    <span class="md-ellipsis">
      signatureHelp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.typeDefinition" class="md-nav__link">
    <span class="md-ellipsis">
      typeDefinition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.will_save" class="md-nav__link">
    <span class="md-ellipsis">
      will_save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.will_save_wait_until" class="md-nav__link">
    <span class="md-ellipsis">
      will_save_wait_until
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarts.client.Client.workspace_symbol" class="md-nav__link">
    <span class="md-ellipsis">
      workspace_symbol
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="api-reference">API Reference</h1>
<h2 id="clientstate">ClientState</h2>


<div class="doc doc-object doc-class">



<a id="tarts.client.ClientState"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="tarts.structs.enum.Enum">Enum</span></code></p>


      <p>The state of a client.</p>

              <details class="quote">
                <summary>Source code in <code>tarts\client.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ClientState</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The state of a client.&quot;&quot;&quot;</span>

    <span class="n">NOT_INITIALIZED</span> <span class="o">=</span> <span class="n">enum</span><span class="o">.</span><span class="n">auto</span><span class="p">()</span>
    <span class="n">WAITING_FOR_INITIALIZED</span> <span class="o">=</span> <span class="n">enum</span><span class="o">.</span><span class="n">auto</span><span class="p">()</span>
    <span class="n">NORMAL</span> <span class="o">=</span> <span class="n">enum</span><span class="o">.</span><span class="n">auto</span><span class="p">()</span>
    <span class="n">WAITING_FOR_SHUTDOWN</span> <span class="o">=</span> <span class="n">enum</span><span class="o">.</span><span class="n">auto</span><span class="p">()</span>
    <span class="n">SHUTDOWN</span> <span class="o">=</span> <span class="n">enum</span><span class="o">.</span><span class="n">auto</span><span class="p">()</span>
    <span class="n">EXITED</span> <span class="o">=</span> <span class="n">enum</span><span class="o">.</span><span class="n">auto</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div><h2 id="client">Client</h2>


<div class="doc doc-object doc-class">



<a id="tarts.client.Client"></a>
    <div class="doc doc-contents first">


      <p>A Sans-IO client for the communicating with a Language Servers</p>
<p>This client does not handle any IO itself, but instead provides methods for
generating requests and parsing responses. The user is expected to call
<code>send</code> to get the bytes to send to the server, and <code>recv</code> to feed the bytes
received from the server back into the client.</p>
<p>The client will keep track of the state of the connection, and will raise
an error if the user tries to send a request that is not allowed in the
current state.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>process_id</code></td>
            <td>
                  <code><span title="tarts.structs.t.Optional">Optional</span>[int]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The process ID of the client. This is used for logging
purposes.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>root_uri</code></td>
            <td>
                  <code><span title="tarts.structs.t.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The root URI of the workspace. This is used for logging
purposes.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>workspace_folders</code></td>
            <td>
                  <code><span title="tarts.structs.t.Optional">Optional</span>[<span title="tarts.structs.t.List">List</span>[<a class="autorefs autorefs-internal" title="tarts.structs.WorkspaceFolder" href="../structs/#tarts.structs.WorkspaceFolder">WorkspaceFolder</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of workspace folders. This is used for logging
purposes.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>trace</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The trace level to use. This is used for logging purposes.</p>
              </div>
            </td>
            <td>
                  <code>&#39;off&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>tarts\client.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A Sans-IO client for the communicating with a Language Servers</span>

<span class="sd">    This client does not handle any IO itself, but instead provides methods for</span>
<span class="sd">    generating requests and parsing responses. The user is expected to call</span>
<span class="sd">    `send` to get the bytes to send to the server, and `recv` to feed the bytes</span>
<span class="sd">    received from the server back into the client.</span>

<span class="sd">    The client will keep track of the state of the connection, and will raise</span>
<span class="sd">    an error if the user tries to send a request that is not allowed in the</span>
<span class="sd">    current state.</span>

<span class="sd">    Args:</span>
<span class="sd">        process_id: The process ID of the client. This is used for logging</span>
<span class="sd">            purposes.</span>
<span class="sd">        root_uri: The root URI of the workspace. This is used for logging</span>
<span class="sd">            purposes.</span>
<span class="sd">        workspace_folders: A list of workspace folders. This is used for logging</span>
<span class="sd">            purposes.</span>
<span class="sd">        trace: The trace level to use. This is used for logging purposes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># TODO: Save the encoding given here.</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">process_id</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">root_uri</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">workspace_folders</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">WorkspaceFolder</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">trace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;off&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NOT_INITIALIZED</span>

        <span class="c1"># Used to save data as it comes in (from `recieve_bytes`) until we have</span>
        <span class="c1"># a full request.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_recv_buf</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>

        <span class="c1"># Things that we still need to send.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_buf</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>

        <span class="c1"># Keeps track of which IDs match to which unanswered requests.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unanswered_requests</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="n">Id</span><span class="p">,</span> <span class="n">Request</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Just a simple counter to make sure we have unique IDs. We could make</span>
        <span class="c1"># sure that this fits into a JSONRPC Number, seeing as Python supports</span>
        <span class="c1"># bignums, but I think that&#39;s an unlikely enough case that checking for</span>
        <span class="c1"># it would just litter the code unnecessarily.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_id_counter</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># We&#39;ll just immediately send off an &quot;initialize&quot; request.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;initialize&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;processId&quot;</span><span class="p">:</span> <span class="n">process_id</span><span class="p">,</span>
                <span class="s2">&quot;rootUri&quot;</span><span class="p">:</span> <span class="n">root_uri</span><span class="p">,</span>
                <span class="s2">&quot;workspaceFolders&quot;</span><span class="p">:</span> <span class="p">(</span>
                    <span class="kc">None</span>
                    <span class="k">if</span> <span class="n">workspace_folders</span> <span class="ow">is</span> <span class="kc">None</span>
                    <span class="k">else</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">workspace_folders</span><span class="p">]</span>
                <span class="p">),</span>
                <span class="s2">&quot;trace&quot;</span><span class="p">:</span> <span class="n">trace</span><span class="p">,</span>
                <span class="s2">&quot;capabilities&quot;</span><span class="p">:</span> <span class="n">CAPABILITIES</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">WAITING_FOR_INITIALIZED</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ClientState</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The current state of the client.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_initialized</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Whether the client has been initialized.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">!=</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NOT_INITIALIZED</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">!=</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">WAITING_FOR_INITIALIZED</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_send_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">JSONDict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the server.</span>

<span class="sd">        This method can be used to send requests that are not implemented in the</span>
<span class="sd">        client. It will also automatically generate an ID for the request.</span>

<span class="sd">        Args:</span>
<span class="sd">            method: The method of the request.</span>
<span class="sd">            params: The parameters of the request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id_counter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_id_counter</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_send_buf</span> <span class="o">+=</span> <span class="n">_make_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unanswered_requests</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">id</span>

    <span class="k">def</span> <span class="nf">_send_notification</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">JSONDict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a notification to the server.</span>

<span class="sd">        This method can be used to send notifications that are not implemented in</span>
<span class="sd">        the client.</span>

<span class="sd">        Args:</span>
<span class="sd">            method: The method of the notification.</span>
<span class="sd">            params: The parameters of the notification.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_buf</span> <span class="o">+=</span> <span class="n">_make_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_send_response</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">JSONDict</span><span class="p">,</span> <span class="n">JSONList</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">error</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">JSONDict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a response to the server.</span>

<span class="sd">        This method can be used to send responses that are not implemented in the</span>
<span class="sd">        client.</span>

<span class="sd">        Args:</span>
<span class="sd">            id: The ID of the request that this response is for.</span>
<span class="sd">            result: The result of the request.</span>
<span class="sd">            error: The error of the request</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_send_buf</span> <span class="o">+=</span> <span class="n">_make_response</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="n">result</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="n">error</span><span class="p">)</span>

    <span class="c1"># response from server</span>
    <span class="k">def</span> <span class="nf">_handle_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Event</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unanswered_requests</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">error</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">err</span> <span class="o">=</span> <span class="n">ResponseError</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">error</span><span class="p">)</span>
            <span class="n">err</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span>
            <span class="k">return</span> <span class="n">err</span>

        <span class="n">event</span><span class="p">:</span> <span class="n">Event</span>

        <span class="k">match</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span><span class="p">:</span>
            <span class="k">case</span> <span class="s2">&quot;initialize&quot;</span><span class="p">:</span>
                <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">WAITING_FOR_INITIALIZED</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
                    <span class="s2">&quot;initialized&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{}</span>
                <span class="p">)</span>  <span class="c1"># params=None doesn&#39;t work with gopls</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">Initialized</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>

            <span class="k">case</span> <span class="s2">&quot;shutdown&quot;</span><span class="p">:</span>
                <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">WAITING_FOR_SHUTDOWN</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">Shutdown</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">SHUTDOWN</span>

            <span class="k">case</span> <span class="s2">&quot;textDocument/completion&quot;</span><span class="p">:</span>
                <span class="n">completion_list</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">completion_list</span> <span class="o">=</span> <span class="n">CompletionList</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">ValidationError</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">completion_list</span> <span class="o">=</span> <span class="n">CompletionList</span><span class="p">(</span>
                            <span class="n">isIncomplete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                            <span class="n">items</span><span class="o">=</span><span class="n">parse_obj_as</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">CompletionItem</span><span class="p">],</span> <span class="n">response</span><span class="o">.</span><span class="n">result</span><span class="p">),</span>
                        <span class="p">)</span>
                    <span class="k">except</span> <span class="n">ValidationError</span><span class="p">:</span>
                        <span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span>

                <span class="n">event</span> <span class="o">=</span> <span class="n">Completion</span><span class="p">(</span>
                    <span class="n">message_id</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">completion_list</span><span class="o">=</span><span class="n">completion_list</span>
                <span class="p">)</span>

            <span class="k">case</span> <span class="s2">&quot;textDocument/willSaveWaitUntil&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">WillSaveWaitUntilEdits</span><span class="p">(</span>
                    <span class="n">edits</span><span class="o">=</span><span class="n">parse_obj_as</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">TextEdit</span><span class="p">],</span> <span class="n">response</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
                <span class="p">)</span>

            <span class="k">case</span> <span class="s2">&quot;textDocument/hover&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">event</span> <span class="o">=</span> <span class="n">Hover</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">event</span> <span class="o">=</span> <span class="n">Hover</span><span class="p">(</span><span class="n">contents</span><span class="o">=</span><span class="p">[])</span>  <span class="c1"># null response</span>
                <span class="n">event</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span>

            <span class="k">case</span> <span class="s2">&quot;textDocument/foldingRange&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">MFoldingRanges</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
                <span class="n">event</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span>

            <span class="k">case</span> <span class="s2">&quot;textDocument/signatureHelp&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">event</span> <span class="o">=</span> <span class="n">SignatureHelp</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">event</span> <span class="o">=</span> <span class="n">SignatureHelp</span><span class="p">(</span><span class="n">signatures</span><span class="o">=</span><span class="p">[])</span>  <span class="c1"># null response</span>
                <span class="n">event</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span>

            <span class="k">case</span> <span class="s2">&quot;textDocument/documentSymbol&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">MDocumentSymbols</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
                <span class="n">event</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span>

            <span class="k">case</span> <span class="s2">&quot;textDocument/inlayHint&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">MInlayHints</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
                <span class="n">event</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span>

            <span class="k">case</span> <span class="s2">&quot;textDocument/rename&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">WorkspaceEdit</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
                <span class="n">event</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span>

            <span class="c1"># GOTOs</span>
            <span class="k">case</span> <span class="s2">&quot;textDocument/definition&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">Definition</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
                <span class="n">event</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span>

            <span class="k">case</span> <span class="s2">&quot;textDocument/references&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">References</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
            <span class="k">case</span> <span class="s2">&quot;textDocument/implementation&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">Implementation</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
            <span class="k">case</span> <span class="s2">&quot;textDocument/declaration&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">Declaration</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
            <span class="k">case</span> <span class="s2">&quot;textDocument/typeDefinition&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">TypeDefinition</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>

            <span class="k">case</span> <span class="s2">&quot;textDocument/prepareCallHierarchy&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">MCallHierarchItems</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>

            <span class="k">case</span> <span class="s2">&quot;textDocument/formatting&quot;</span> <span class="o">|</span> <span class="s2">&quot;textDocument/rangeFormatting&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">DocumentFormatting</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
                <span class="n">event</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span>

            <span class="c1"># WORKSPACE</span>
            <span class="k">case</span> <span class="s2">&quot;workspace/symbol&quot;</span><span class="p">:</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">MWorkspaceSymbols</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>

            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">((</span><span class="n">response</span><span class="p">,</span> <span class="n">request</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">event</span>

    <span class="c1"># request from server</span>
    <span class="k">def</span> <span class="nf">_handle_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Event</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">parse_request</span><span class="p">(</span><span class="n">event_cls</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">Event</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Event</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">event_cls</span><span class="p">,</span> <span class="n">ServerRequest</span><span class="p">):</span>
                <span class="n">event</span> <span class="o">=</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">event_cls</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
                <span class="k">assert</span> <span class="n">request</span><span class="o">.</span><span class="n">id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="n">event</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">id</span>
                <span class="n">event</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="bp">self</span>
                <span class="k">return</span> <span class="n">event</span>
            <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">event_cls</span><span class="p">,</span> <span class="n">ServerNotification</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">parse_obj_as</span><span class="p">(</span><span class="n">event_cls</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="s2">&quot;`event_cls` must be a subclass of ServerRequest&quot;</span>
                    <span class="s2">&quot; or ServerNotification&quot;</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;workspace/workspaceFolders&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">parse_request</span><span class="p">(</span><span class="n">WorkspaceFolders</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;workspace/configuration&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">parse_request</span><span class="p">(</span><span class="n">ConfigurationRequest</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;window/showMessage&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">parse_request</span><span class="p">(</span><span class="n">ShowMessage</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;window/showMessageRequest&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">parse_request</span><span class="p">(</span><span class="n">ShowMessageRequest</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;window/logMessage&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">parse_request</span><span class="p">(</span><span class="n">LogMessage</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;textDocument/publishDiagnostics&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">parse_request</span><span class="p">(</span><span class="n">PublishDiagnostics</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;window/workDoneProgress/create&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">parse_request</span><span class="p">(</span><span class="n">WorkDoneProgressCreate</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;client/registerCapability&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">parse_request</span><span class="p">(</span><span class="n">RegisterCapabilityRequest</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;$/progress&quot;</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">request</span><span class="o">.</span><span class="n">params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">kind</span> <span class="o">=</span> <span class="n">MWorkDoneProgressKind</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">][</span><span class="s2">&quot;kind&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">MWorkDoneProgressKind</span><span class="o">.</span><span class="n">BEGIN</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">parse_request</span><span class="p">(</span><span class="n">WorkDoneProgressBegin</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">MWorkDoneProgressKind</span><span class="o">.</span><span class="n">REPORT</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">parse_request</span><span class="p">(</span><span class="n">WorkDoneProgressReport</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">MWorkDoneProgressKind</span><span class="o">.</span><span class="n">END</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">parse_request</span><span class="p">(</span><span class="n">WorkDoneProgressEnd</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;this shouldn&#39;t happen&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">recv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">Event</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Feed data received from the server back into the client.</span>

<span class="sd">        This method will parse the data received from the server, and yield any</span>
<span class="sd">        events that are generated by the data. If the data is not enough to</span>
<span class="sd">        generate a full event, the data will be saved until enough data is</span>
<span class="sd">        received.</span>

<span class="sd">        Args:</span>
<span class="sd">            data: The data received from the server.</span>

<span class="sd">        Yields:</span>
<span class="sd">            The events generated by the data.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_recv_buf</span> <span class="o">+=</span> <span class="n">data</span>
        <span class="c1"># Make sure to use lots of iterators, so that if one message fails to</span>
        <span class="c1"># parse, the messages before it are yielded successfully before the</span>
        <span class="c1"># error, and the messages after it are left in _recv_buf.</span>
        <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">_parse_messages</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_recv_buf</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">Response</span><span class="p">):</span>
                <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_response</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_request</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the bytes to send to the server.</span>

<span class="sd">        This method will return the bytes that need to be sent to the server.</span>
<span class="sd">        This is the main way to interact with the client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The bytes to send to the server.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">send_buf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_buf</span><span class="p">[:]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_buf</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">send_buf</span>

    <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a shutdown request to the server.</span>

<span class="sd">        This method will send a shutdown request to the server. After this</span>
<span class="sd">        request is sent, the client will be in the `WAITING_FOR_SHUTDOWN` state.&quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;shutdown&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">WAITING_FOR_SHUTDOWN</span>

    <span class="k">def</span> <span class="nf">exit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send an exit notification to the server.</span>

<span class="sd">        This method will send an exit notification to the server. After this</span>
<span class="sd">        notification is sent, the client will be in the `EXITED` state.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">SHUTDOWN</span>
        <span class="c1"># TODO: figure out why params={} is needed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;exit&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">EXITED</span>

    <span class="k">def</span> <span class="nf">cancel_last_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Cancel the last request sent to the server.</span>

<span class="sd">        This method will cancel the last request sent to the server. This is</span>
<span class="sd">        useful if the request is taking too long to process.&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;$/cancelRequest&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id_counter</span> <span class="o">-</span> <span class="mi">1</span><span class="p">}</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">did_open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentItem</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a didOpen notification to the server.</span>

<span class="sd">        This method will send a didOpen notification to the server. This</span>
<span class="sd">        notification is used to inform the server that a document has been</span>
<span class="sd">        opened.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document: The text document that has been opened.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/didOpen&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">()}</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">did_change</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text_document</span><span class="p">:</span> <span class="n">VersionedTextDocumentIdentifier</span><span class="p">,</span>
        <span class="n">content_changes</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">TextDocumentContentChangeEvent</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a didChange notification to the server.</span>

<span class="sd">        This method will send a didChange notification to the server. This</span>
<span class="sd">        notification is used to inform the server that a document has been</span>
<span class="sd">        changed.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document: The text document that has been changed.</span>
<span class="sd">            content_changes: The changes that have been made to the document.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/didChange&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
                <span class="s2">&quot;contentChanges&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">evt</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">evt</span> <span class="ow">in</span> <span class="n">content_changes</span><span class="p">],</span>
            <span class="p">},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">will_save</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span> <span class="n">reason</span><span class="p">:</span> <span class="n">TextDocumentSaveReason</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a willSave notification to the server.</span>

<span class="sd">        This method will send a willSave notification to the server. This</span>
<span class="sd">        notification is used to inform the server that a document will be saved.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document: The text document that will be saved.</span>
<span class="sd">            reason: The reason the document will be saved.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/willSave&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">reason</span><span class="o">.</span><span class="n">value</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">will_save_wait_until</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span> <span class="n">reason</span><span class="p">:</span> <span class="n">TextDocumentSaveReason</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a willSaveWaitUntil request to the server.</span>

<span class="sd">        This method will send a willSaveWaitUntil request to the server. This</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document: The text document that will be saved.</span>
<span class="sd">            reason: The reason the document will be saved.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/willSaveWaitUntil&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">reason</span><span class="o">.</span><span class="n">value</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">did_save</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a didSave notification to the server.</span>

<span class="sd">        This method will send a didSave notification to the server. This</span>
<span class="sd">        notification is used to inform the server that a document has been saved.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document: The text document that has been saved.</span>
<span class="sd">            text: The text of the document that has been saved. This is optional,</span>
<span class="sd">                and can be used to send the text of the document if it has changed</span>
<span class="sd">                since the last didChange notification.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">()}</span>
        <span class="k">if</span> <span class="n">text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/didSave&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">did_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a didClose notification to the server.</span>

<span class="sd">        This method will send a didClose notification to the server. This</span>
<span class="sd">        notification is used to inform the server that a document has been closed.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document: The text document that has been closed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/didClose&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">()},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">did_change_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a didChangeConfiguration notification to the server.</span>

<span class="sd">        This method will send a didChangeConfiguration notification to the server.</span>
<span class="sd">        This notification is used to inform the server that the configuration has</span>
<span class="sd">        changed.</span>

<span class="sd">        Args:</span>
<span class="sd">            settings: The new settings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;workspace/didChangeConfiguration&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">settings</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">did_change_workspace_folders</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">added</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">WorkspaceFolder</span><span class="p">],</span> <span class="n">removed</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">WorkspaceFolder</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a didChangeWorkspaceFolders notification to the server.</span>

<span class="sd">        This method will send a didChangeWorkspaceFolders notification to the</span>
<span class="sd">        server. This notification is used to inform the server that workspace</span>
<span class="sd">        folders have been added or removed.</span>

<span class="sd">        Args:</span>
<span class="sd">            added: The workspace folders that have been added.</span>
<span class="sd">            removed: The workspace folders that have been removed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;added&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">added</span><span class="p">],</span>
            <span class="s2">&quot;removed&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">removed</span><span class="p">],</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;workspace/didChangeWorkspaceFolders&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">completion</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">,</span>
        <span class="n">context</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">CompletionContext</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a completion request to the server.</span>

<span class="sd">        This method will send a completion request to the server. This request is</span>
<span class="sd">        used to request completion items at a specific position in a document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document_position: The position in the document to request</span>
<span class="sd">                completions for.</span>
<span class="sd">            context: The context in which the completion is requested.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/completion&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rename</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">,</span>
        <span class="n">new_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a rename request to the server.</span>

<span class="sd">        This method will send a rename request to the server. This request is</span>
<span class="sd">        used to request that the server rename a symbol in a document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document_position: The position in the document to rename.</span>
<span class="sd">            new_name: The new name of the symbol.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;newName&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_name</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/rename&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">hover</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a hover request to the server.</span>

<span class="sd">        This method will send a hover request to the server. This request is</span>
<span class="sd">        used to request hover information at a specific position in a document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document_position: The position in the document to request</span>
<span class="sd">                hover information for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/hover&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">folding_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a foldingRange request to the server.</span>

<span class="sd">        This method will send a foldingRange request to the server. This request is</span>
<span class="sd">        used to request folding ranges in a document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document: The document to request folding ranges for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/foldingRange&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">()},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">signatureHelp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a signatureHelp request to the server.</span>

<span class="sd">        This method will send a signatureHelp request to the server. This request is</span>
<span class="sd">        used to request signature help at a specific position in a document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document_position: The position in the document to request</span>
<span class="sd">                signature help for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/signatureHelp&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">definition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a definition request to the server.</span>

<span class="sd">        This method will send a definition request to the server. This request is</span>
<span class="sd">        used to request the definition of a symbol at a specific position in a</span>
<span class="sd">        document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document_position: The position in the document to request</span>
<span class="sd">                the definition for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/definition&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">declaration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a declaration request to the server.</span>

<span class="sd">        This method will send a declaration request to the server. This request is</span>
<span class="sd">        used to request the declaration of a symbol at a specific position in a</span>
<span class="sd">        document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document_position: The position in the document to request</span>
<span class="sd">                the declaration for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/declaration&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">inlay_hint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span> <span class="nb">range</span><span class="p">:</span> <span class="n">Range</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a inlayHint request to the server.</span>

<span class="sd">        This method will send a inlayHint request to the server. This request is</span>
<span class="sd">        used to request inlay hints in a document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document: The document to request inlay hints for.</span>
<span class="sd">            range: The range to request inlay hints for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/inlayHint&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="s2">&quot;range&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="o">.</span><span class="n">dict</span><span class="p">()},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">typeDefinition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a typeDefinition request to the server.</span>

<span class="sd">        This method will send a typeDefinition request to the server. This request is</span>
<span class="sd">        used to request the type definition of a symbol at a specific position in a</span>
<span class="sd">        document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document_position: The position in the document to request</span>
<span class="sd">                the type definition for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/typeDefinition&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">references</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a references request to the server.</span>

<span class="sd">        This method will send a references request to the server. This request is</span>
<span class="sd">        used to request references to a symbol at a specific position in a</span>
<span class="sd">        document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document_position: The position in the document to request</span>
<span class="sd">                references for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;context&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;includeDeclaration&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="o">**</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/references&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>

    <span class="c1"># TODO incomplete</span>
    <span class="k">def</span> <span class="nf">prepareCallHierarchy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a prepareCallHierarchy request to the server.</span>

<span class="sd">        This method will send a prepareCallHierarchy request to the server. This</span>
<span class="sd">        request is used to request call hierarchy information at a specific position</span>
<span class="sd">        in a document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document_position: The position in the document to request</span>
<span class="sd">                call hierarchy information for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/prepareCallHierarchy&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">implementation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a implementation request to the server.</span>

<span class="sd">        This method will send a implementation request to the server. This request is</span>
<span class="sd">        used to request the implementation of a symbol at a specific position in a</span>
<span class="sd">        document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document_position: The position in the document to request</span>
<span class="sd">                the implementation for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/implementation&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">workspace_symbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a workspace/symbol request to the server.</span>

<span class="sd">        This method will send a workspace/symbol request to the server. This request</span>
<span class="sd">        is used to request symbols in the workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            query: The query to filter symbols by.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;workspace/symbol&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="n">query</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">documentSymbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a documentSymbol request to the server.</span>

<span class="sd">        This method will send a documentSymbol request to the server. This request</span>
<span class="sd">        is used to request symbols in a document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document: The document to request symbols for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/documentSymbol&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">()},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">formatting</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">FormattingOptions</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a formatting request to the server.</span>

<span class="sd">        This method will send a formatting request to the server. This request is</span>
<span class="sd">        used to request formatting for a document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document: The document to request formatting for.</span>
<span class="sd">            options: The options to use for formatting.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="s2">&quot;options&quot;</span><span class="p">:</span> <span class="n">options</span><span class="o">.</span><span class="n">dict</span><span class="p">()}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/formatting&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rangeFormatting</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span>
        <span class="nb">range</span><span class="p">:</span> <span class="n">Range</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">FormattingOptions</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a rangeFormatting request to the server.</span>

<span class="sd">        This method will send a rangeFormatting request to the server. This request</span>
<span class="sd">        is used to request formatting for a range in a document.</span>

<span class="sd">        Args:</span>
<span class="sd">            text_document: The document to request formatting for.</span>
<span class="sd">            range: The range to request formatting for.</span>
<span class="sd">            options: The options to use for formatting.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
            <span class="s2">&quot;range&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
            <span class="s2">&quot;options&quot;</span><span class="p">:</span> <span class="n">options</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/rangeFormatting&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="tarts.client.Client.is_initialized" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_initialized</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

      <p>Whether the client has been initialized.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="tarts.client.Client.state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">state</span><span class="p">:</span> <span class="n">ClientState</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

      <p>The current state of the client.</p>
    </div>

</div>



<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.cancel_last_request" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cancel_last_request</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Cancel the last request sent to the server.</p>
<p>This method will cancel the last request sent to the server. This is
useful if the request is taking too long to process.</p>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">cancel_last_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Cancel the last request sent to the server.</span>

<span class="sd">    This method will cancel the last request sent to the server. This is</span>
<span class="sd">    useful if the request is taking too long to process.&quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;$/cancelRequest&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id_counter</span> <span class="o">-</span> <span class="mi">1</span><span class="p">}</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.completion" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">completion</span><span class="p">(</span><span class="n">text_document_position</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a completion request to the server.</p>
<p>This method will send a completion request to the server. This request is
used to request completion items at a specific position in a document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document_position</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentPosition" href="../structs/#tarts.structs.TextDocumentPosition">TextDocumentPosition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position in the document to request
completions for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>context</code></td>
            <td>
                  <code><span title="tarts.structs.t.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="tarts.structs.CompletionContext" href="../structs/#tarts.structs.CompletionContext">CompletionContext</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The context in which the completion is requested.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">completion</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">CompletionContext</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a completion request to the server.</span>

<span class="sd">    This method will send a completion request to the server. This request is</span>
<span class="sd">    used to request completion items at a specific position in a document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document_position: The position in the document to request</span>
<span class="sd">            completions for.</span>
<span class="sd">        context: The context in which the completion is requested.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/completion&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.declaration" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">declaration</span><span class="p">(</span><span class="n">text_document_position</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a declaration request to the server.</p>
<p>This method will send a declaration request to the server. This request is
used to request the declaration of a symbol at a specific position in a
document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document_position</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentPosition" href="../structs/#tarts.structs.TextDocumentPosition">TextDocumentPosition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position in the document to request
the declaration for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">declaration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a declaration request to the server.</span>

<span class="sd">    This method will send a declaration request to the server. This request is</span>
<span class="sd">    used to request the declaration of a symbol at a specific position in a</span>
<span class="sd">    document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document_position: The position in the document to request</span>
<span class="sd">            the declaration for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/declaration&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.definition" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">definition</span><span class="p">(</span><span class="n">text_document_position</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a definition request to the server.</p>
<p>This method will send a definition request to the server. This request is
used to request the definition of a symbol at a specific position in a
document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document_position</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentPosition" href="../structs/#tarts.structs.TextDocumentPosition">TextDocumentPosition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position in the document to request
the definition for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">definition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a definition request to the server.</span>

<span class="sd">    This method will send a definition request to the server. This request is</span>
<span class="sd">    used to request the definition of a symbol at a specific position in a</span>
<span class="sd">    document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document_position: The position in the document to request</span>
<span class="sd">            the definition for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/definition&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.did_change" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">did_change</span><span class="p">(</span><span class="n">text_document</span><span class="p">,</span> <span class="n">content_changes</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a didChange notification to the server.</p>
<p>This method will send a didChange notification to the server. This
notification is used to inform the server that a document has been
changed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.VersionedTextDocumentIdentifier" href="../structs/#tarts.structs.VersionedTextDocumentIdentifier">VersionedTextDocumentIdentifier</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text document that has been changed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>content_changes</code></td>
            <td>
                  <code><span title="tarts.structs.t.List">List</span>[<a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentContentChangeEvent" href="../structs/#tarts.structs.TextDocumentContentChangeEvent">TextDocumentContentChangeEvent</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The changes that have been made to the document.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">did_change</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text_document</span><span class="p">:</span> <span class="n">VersionedTextDocumentIdentifier</span><span class="p">,</span>
    <span class="n">content_changes</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">TextDocumentContentChangeEvent</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a didChange notification to the server.</span>

<span class="sd">    This method will send a didChange notification to the server. This</span>
<span class="sd">    notification is used to inform the server that a document has been</span>
<span class="sd">    changed.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document: The text document that has been changed.</span>
<span class="sd">        content_changes: The changes that have been made to the document.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/didChange&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
            <span class="s2">&quot;contentChanges&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">evt</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">evt</span> <span class="ow">in</span> <span class="n">content_changes</span><span class="p">],</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.did_change_configuration" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">did_change_configuration</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a didChangeConfiguration notification to the server.</p>
<p>This method will send a didChangeConfiguration notification to the server.
This notification is used to inform the server that the configuration has
changed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>settings</code></td>
            <td>
                  <code>list[<span title="tarts.structs.t.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new settings.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">did_change_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a didChangeConfiguration notification to the server.</span>

<span class="sd">    This method will send a didChangeConfiguration notification to the server.</span>
<span class="sd">    This notification is used to inform the server that the configuration has</span>
<span class="sd">    changed.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings: The new settings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;workspace/didChangeConfiguration&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">settings</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.did_change_workspace_folders" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">did_change_workspace_folders</span><span class="p">(</span><span class="n">added</span><span class="p">,</span> <span class="n">removed</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a didChangeWorkspaceFolders notification to the server.</p>
<p>This method will send a didChangeWorkspaceFolders notification to the
server. This notification is used to inform the server that workspace
folders have been added or removed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>added</code></td>
            <td>
                  <code><span title="tarts.structs.t.List">List</span>[<a class="autorefs autorefs-internal" title="tarts.structs.WorkspaceFolder" href="../structs/#tarts.structs.WorkspaceFolder">WorkspaceFolder</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The workspace folders that have been added.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>removed</code></td>
            <td>
                  <code><span title="tarts.structs.t.List">List</span>[<a class="autorefs autorefs-internal" title="tarts.structs.WorkspaceFolder" href="../structs/#tarts.structs.WorkspaceFolder">WorkspaceFolder</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The workspace folders that have been removed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">did_change_workspace_folders</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">added</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">WorkspaceFolder</span><span class="p">],</span> <span class="n">removed</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">WorkspaceFolder</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a didChangeWorkspaceFolders notification to the server.</span>

<span class="sd">    This method will send a didChangeWorkspaceFolders notification to the</span>
<span class="sd">    server. This notification is used to inform the server that workspace</span>
<span class="sd">    folders have been added or removed.</span>

<span class="sd">    Args:</span>
<span class="sd">        added: The workspace folders that have been added.</span>
<span class="sd">        removed: The workspace folders that have been removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;added&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">added</span><span class="p">],</span>
        <span class="s2">&quot;removed&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">removed</span><span class="p">],</span>
    <span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;workspace/didChangeWorkspaceFolders&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.did_close" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">did_close</span><span class="p">(</span><span class="n">text_document</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a didClose notification to the server.</p>
<p>This method will send a didClose notification to the server. This
notification is used to inform the server that a document has been closed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentIdentifier" href="../structs/#tarts.structs.TextDocumentIdentifier">TextDocumentIdentifier</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text document that has been closed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">did_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a didClose notification to the server.</span>

<span class="sd">    This method will send a didClose notification to the server. This</span>
<span class="sd">    notification is used to inform the server that a document has been closed.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document: The text document that has been closed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/didClose&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">()},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.did_open" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">did_open</span><span class="p">(</span><span class="n">text_document</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a didOpen notification to the server.</p>
<p>This method will send a didOpen notification to the server. This
notification is used to inform the server that a document has been
opened.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentItem" href="../structs/#tarts.structs.TextDocumentItem">TextDocumentItem</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text document that has been opened.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">did_open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentItem</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a didOpen notification to the server.</span>

<span class="sd">    This method will send a didOpen notification to the server. This</span>
<span class="sd">    notification is used to inform the server that a document has been</span>
<span class="sd">    opened.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document: The text document that has been opened.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/didOpen&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">()}</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.did_save" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">did_save</span><span class="p">(</span><span class="n">text_document</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a didSave notification to the server.</p>
<p>This method will send a didSave notification to the server. This
notification is used to inform the server that a document has been saved.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentIdentifier" href="../structs/#tarts.structs.TextDocumentIdentifier">TextDocumentIdentifier</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text document that has been saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>text</code></td>
            <td>
                  <code><span title="tarts.structs.t.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text of the document that has been saved. This is optional,
and can be used to send the text of the document if it has changed
since the last didChange notification.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">did_save</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a didSave notification to the server.</span>

<span class="sd">    This method will send a didSave notification to the server. This</span>
<span class="sd">    notification is used to inform the server that a document has been saved.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document: The text document that has been saved.</span>
<span class="sd">        text: The text of the document that has been saved. This is optional,</span>
<span class="sd">            and can be used to send the text of the document if it has changed</span>
<span class="sd">            since the last didChange notification.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="n">params</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">()}</span>
    <span class="k">if</span> <span class="n">text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">text</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/didSave&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.documentSymbol" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">documentSymbol</span><span class="p">(</span><span class="n">text_document</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a documentSymbol request to the server.</p>
<p>This method will send a documentSymbol request to the server. This request
is used to request symbols in a document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentIdentifier" href="../structs/#tarts.structs.TextDocumentIdentifier">TextDocumentIdentifier</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The document to request symbols for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">documentSymbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a documentSymbol request to the server.</span>

<span class="sd">    This method will send a documentSymbol request to the server. This request</span>
<span class="sd">    is used to request symbols in a document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document: The document to request symbols for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/documentSymbol&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">()},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.exit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">exit</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send an exit notification to the server.</p>
<p>This method will send an exit notification to the server. After this
notification is sent, the client will be in the <code>EXITED</code> state.</p>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">exit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send an exit notification to the server.</span>

<span class="sd">    This method will send an exit notification to the server. After this</span>
<span class="sd">    notification is sent, the client will be in the `EXITED` state.&quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">SHUTDOWN</span>
    <span class="c1"># TODO: figure out why params={} is needed</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;exit&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">EXITED</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.folding_range" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">folding_range</span><span class="p">(</span><span class="n">text_document</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a foldingRange request to the server.</p>
<p>This method will send a foldingRange request to the server. This request is
used to request folding ranges in a document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentIdentifier" href="../structs/#tarts.structs.TextDocumentIdentifier">TextDocumentIdentifier</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The document to request folding ranges for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">folding_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a foldingRange request to the server.</span>

<span class="sd">    This method will send a foldingRange request to the server. This request is</span>
<span class="sd">    used to request folding ranges in a document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document: The document to request folding ranges for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/foldingRange&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">()},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.formatting" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">formatting</span><span class="p">(</span><span class="n">text_document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a formatting request to the server.</p>
<p>This method will send a formatting request to the server. This request is
used to request formatting for a document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentIdentifier" href="../structs/#tarts.structs.TextDocumentIdentifier">TextDocumentIdentifier</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The document to request formatting for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>options</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.FormattingOptions" href="../structs/#tarts.structs.FormattingOptions">FormattingOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The options to use for formatting.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">formatting</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">FormattingOptions</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a formatting request to the server.</span>

<span class="sd">    This method will send a formatting request to the server. This request is</span>
<span class="sd">    used to request formatting for a document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document: The document to request formatting for.</span>
<span class="sd">        options: The options to use for formatting.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="s2">&quot;options&quot;</span><span class="p">:</span> <span class="n">options</span><span class="o">.</span><span class="n">dict</span><span class="p">()}</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/formatting&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.hover" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">hover</span><span class="p">(</span><span class="n">text_document_position</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a hover request to the server.</p>
<p>This method will send a hover request to the server. This request is
used to request hover information at a specific position in a document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document_position</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentPosition" href="../structs/#tarts.structs.TextDocumentPosition">TextDocumentPosition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position in the document to request
hover information for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">hover</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a hover request to the server.</span>

<span class="sd">    This method will send a hover request to the server. This request is</span>
<span class="sd">    used to request hover information at a specific position in a document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document_position: The position in the document to request</span>
<span class="sd">            hover information for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/hover&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.implementation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">implementation</span><span class="p">(</span><span class="n">text_document_position</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a implementation request to the server.</p>
<p>This method will send a implementation request to the server. This request is
used to request the implementation of a symbol at a specific position in a
document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document_position</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentPosition" href="../structs/#tarts.structs.TextDocumentPosition">TextDocumentPosition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position in the document to request
the implementation for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">implementation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a implementation request to the server.</span>

<span class="sd">    This method will send a implementation request to the server. This request is</span>
<span class="sd">    used to request the implementation of a symbol at a specific position in a</span>
<span class="sd">    document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document_position: The position in the document to request</span>
<span class="sd">            the implementation for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/implementation&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.inlay_hint" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">inlay_hint</span><span class="p">(</span><span class="n">text_document</span><span class="p">,</span> <span class="nb">range</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a inlayHint request to the server.</p>
<p>This method will send a inlayHint request to the server. This request is
used to request inlay hints in a document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentIdentifier" href="../structs/#tarts.structs.TextDocumentIdentifier">TextDocumentIdentifier</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The document to request inlay hints for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>range</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.Range" href="../structs/#tarts.structs.Range">Range</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The range to request inlay hints for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">inlay_hint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span> <span class="nb">range</span><span class="p">:</span> <span class="n">Range</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a inlayHint request to the server.</span>

<span class="sd">    This method will send a inlayHint request to the server. This request is</span>
<span class="sd">    used to request inlay hints in a document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document: The document to request inlay hints for.</span>
<span class="sd">        range: The range to request inlay hints for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/inlayHint&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="s2">&quot;range&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="o">.</span><span class="n">dict</span><span class="p">()},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.prepareCallHierarchy" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">prepareCallHierarchy</span><span class="p">(</span><span class="n">text_document_position</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a prepareCallHierarchy request to the server.</p>
<p>This method will send a prepareCallHierarchy request to the server. This
request is used to request call hierarchy information at a specific position
in a document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document_position</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentPosition" href="../structs/#tarts.structs.TextDocumentPosition">TextDocumentPosition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position in the document to request
call hierarchy information for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">prepareCallHierarchy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a prepareCallHierarchy request to the server.</span>

<span class="sd">    This method will send a prepareCallHierarchy request to the server. This</span>
<span class="sd">    request is used to request call hierarchy information at a specific position</span>
<span class="sd">    in a document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document_position: The position in the document to request</span>
<span class="sd">            call hierarchy information for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/prepareCallHierarchy&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.rangeFormatting" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">rangeFormatting</span><span class="p">(</span><span class="n">text_document</span><span class="p">,</span> <span class="nb">range</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a rangeFormatting request to the server.</p>
<p>This method will send a rangeFormatting request to the server. This request
is used to request formatting for a range in a document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentIdentifier" href="../structs/#tarts.structs.TextDocumentIdentifier">TextDocumentIdentifier</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The document to request formatting for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>range</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.Range" href="../structs/#tarts.structs.Range">Range</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The range to request formatting for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>options</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.FormattingOptions" href="../structs/#tarts.structs.FormattingOptions">FormattingOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The options to use for formatting.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">rangeFormatting</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span>
    <span class="nb">range</span><span class="p">:</span> <span class="n">Range</span><span class="p">,</span>
    <span class="n">options</span><span class="p">:</span> <span class="n">FormattingOptions</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a rangeFormatting request to the server.</span>

<span class="sd">    This method will send a rangeFormatting request to the server. This request</span>
<span class="sd">    is used to request formatting for a range in a document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document: The document to request formatting for.</span>
<span class="sd">        range: The range to request formatting for.</span>
<span class="sd">        options: The options to use for formatting.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
        <span class="s2">&quot;range&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
        <span class="s2">&quot;options&quot;</span><span class="p">:</span> <span class="n">options</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/rangeFormatting&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.recv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">recv</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Feed data received from the server back into the client.</p>
<p>This method will parse the data received from the server, and yield any
events that are generated by the data. If the data is not enough to
generate a full event, the data will be saved until enough data is
received.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code>bytes</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data received from the server.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.events.Event" href="../events/#tarts.events.Event">Event</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The events generated by the data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">recv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Iterator</span><span class="p">[</span><span class="n">Event</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Feed data received from the server back into the client.</span>

<span class="sd">    This method will parse the data received from the server, and yield any</span>
<span class="sd">    events that are generated by the data. If the data is not enough to</span>
<span class="sd">    generate a full event, the data will be saved until enough data is</span>
<span class="sd">    received.</span>

<span class="sd">    Args:</span>
<span class="sd">        data: The data received from the server.</span>

<span class="sd">    Yields:</span>
<span class="sd">        The events generated by the data.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_recv_buf</span> <span class="o">+=</span> <span class="n">data</span>
    <span class="c1"># Make sure to use lots of iterators, so that if one message fails to</span>
    <span class="c1"># parse, the messages before it are yielded successfully before the</span>
    <span class="c1"># error, and the messages after it are left in _recv_buf.</span>
    <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">_parse_messages</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_recv_buf</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">Response</span><span class="p">):</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_response</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_request</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.references" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">references</span><span class="p">(</span><span class="n">text_document_position</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a references request to the server.</p>
<p>This method will send a references request to the server. This request is
used to request references to a symbol at a specific position in a
document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document_position</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentPosition" href="../structs/#tarts.structs.TextDocumentPosition">TextDocumentPosition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position in the document to request
references for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">references</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a references request to the server.</span>

<span class="sd">    This method will send a references request to the server. This request is</span>
<span class="sd">    used to request references to a symbol at a specific position in a</span>
<span class="sd">    document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document_position: The position in the document to request</span>
<span class="sd">            references for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;context&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;includeDeclaration&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
        <span class="o">**</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/references&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.rename" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">rename</span><span class="p">(</span><span class="n">text_document_position</span><span class="p">,</span> <span class="n">new_name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a rename request to the server.</p>
<p>This method will send a rename request to the server. This request is
used to request that the server rename a symbol in a document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document_position</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentPosition" href="../structs/#tarts.structs.TextDocumentPosition">TextDocumentPosition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position in the document to rename.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>new_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new name of the symbol.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">rename</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">,</span>
    <span class="n">new_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a rename request to the server.</span>

<span class="sd">    This method will send a rename request to the server. This request is</span>
<span class="sd">    used to request that the server rename a symbol in a document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document_position: The position in the document to rename.</span>
<span class="sd">        new_name: The new name of the symbol.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="n">params</span><span class="p">[</span><span class="s2">&quot;newName&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_name</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/rename&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.send" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">send</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Get the bytes to send to the server.</p>
<p>This method will return the bytes that need to be sent to the server.
This is the main way to interact with the client.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bytes</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The bytes to send to the server.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the bytes to send to the server.</span>

<span class="sd">    This method will return the bytes that need to be sent to the server.</span>
<span class="sd">    This is the main way to interact with the client.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The bytes to send to the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">send_buf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_buf</span><span class="p">[:]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_buf</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">send_buf</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.shutdown" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">shutdown</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a shutdown request to the server.</p>
<p>This method will send a shutdown request to the server. After this
request is sent, the client will be in the <code>WAITING_FOR_SHUTDOWN</code> state.</p>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a shutdown request to the server.</span>

<span class="sd">    This method will send a shutdown request to the server. After this</span>
<span class="sd">    request is sent, the client will be in the `WAITING_FOR_SHUTDOWN` state.&quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;shutdown&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">WAITING_FOR_SHUTDOWN</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.signatureHelp" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">signatureHelp</span><span class="p">(</span><span class="n">text_document_position</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a signatureHelp request to the server.</p>
<p>This method will send a signatureHelp request to the server. This request is
used to request signature help at a specific position in a document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document_position</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentPosition" href="../structs/#tarts.structs.TextDocumentPosition">TextDocumentPosition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position in the document to request
signature help for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">signatureHelp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a signatureHelp request to the server.</span>

<span class="sd">    This method will send a signatureHelp request to the server. This request is</span>
<span class="sd">    used to request signature help at a specific position in a document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document_position: The position in the document to request</span>
<span class="sd">            signature help for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/signatureHelp&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.typeDefinition" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">typeDefinition</span><span class="p">(</span><span class="n">text_document_position</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a typeDefinition request to the server.</p>
<p>This method will send a typeDefinition request to the server. This request is
used to request the type definition of a symbol at a specific position in a
document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document_position</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentPosition" href="../structs/#tarts.structs.TextDocumentPosition">TextDocumentPosition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position in the document to request
the type definition for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">typeDefinition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_document_position</span><span class="p">:</span> <span class="n">TextDocumentPosition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a typeDefinition request to the server.</span>

<span class="sd">    This method will send a typeDefinition request to the server. This request is</span>
<span class="sd">    used to request the type definition of a symbol at a specific position in a</span>
<span class="sd">    document.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document_position: The position in the document to request</span>
<span class="sd">            the type definition for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.&quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/typeDefinition&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">text_document_position</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.will_save" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">will_save</span><span class="p">(</span><span class="n">text_document</span><span class="p">,</span> <span class="n">reason</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a willSave notification to the server.</p>
<p>This method will send a willSave notification to the server. This
notification is used to inform the server that a document will be saved.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentIdentifier" href="../structs/#tarts.structs.TextDocumentIdentifier">TextDocumentIdentifier</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text document that will be saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reason</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentSaveReason" href="../structs/#tarts.structs.TextDocumentSaveReason">TextDocumentSaveReason</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The reason the document will be saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">will_save</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span> <span class="n">reason</span><span class="p">:</span> <span class="n">TextDocumentSaveReason</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a willSave notification to the server.</span>

<span class="sd">    This method will send a willSave notification to the server. This</span>
<span class="sd">    notification is used to inform the server that a document will be saved.</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document: The text document that will be saved.</span>
<span class="sd">        reason: The reason the document will be saved.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_notification</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/willSave&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">reason</span><span class="o">.</span><span class="n">value</span><span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.will_save_wait_until" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">will_save_wait_until</span><span class="p">(</span><span class="n">text_document</span><span class="p">,</span> <span class="n">reason</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a willSaveWaitUntil request to the server.</p>
<p>This method will send a willSaveWaitUntil request to the server. This</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text_document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentIdentifier" href="../structs/#tarts.structs.TextDocumentIdentifier">TextDocumentIdentifier</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text document that will be saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reason</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tarts.structs.TextDocumentSaveReason" href="../structs/#tarts.structs.TextDocumentSaveReason">TextDocumentSaveReason</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The reason the document will be saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">will_save_wait_until</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">text_document</span><span class="p">:</span> <span class="n">TextDocumentIdentifier</span><span class="p">,</span> <span class="n">reason</span><span class="p">:</span> <span class="n">TextDocumentSaveReason</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a willSaveWaitUntil request to the server.</span>

<span class="sd">    This method will send a willSaveWaitUntil request to the server. This</span>

<span class="sd">    Args:</span>
<span class="sd">        text_document: The text document that will be saved.</span>
<span class="sd">        reason: The reason the document will be saved.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;textDocument/willSaveWaitUntil&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;textDocument&quot;</span><span class="p">:</span> <span class="n">text_document</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">reason</span><span class="o">.</span><span class="n">value</span><span class="p">},</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tarts.client.Client.workspace_symbol" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">workspace_symbol</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Send a workspace/symbol request to the server.</p>
<p>This method will send a workspace/symbol request to the server. This request
is used to request symbols in the workspace.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>query</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The query to filter symbols by.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tarts\client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">workspace_symbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a workspace/symbol request to the server.</span>

<span class="sd">    This method will send a workspace/symbol request to the server. This request</span>
<span class="sd">    is used to request symbols in the workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        query: The query to filter symbols by.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">ClientState</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;workspace/symbol&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="n">query</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Billy
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/tomlin7/tarts" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>